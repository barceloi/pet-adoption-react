var u=Object.defineProperty;var m=(s,t,e)=>t in s?u(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var o=(s,t,e)=>(m(s,typeof t!="symbol"?t+"":t,e),e);import{r as c,j as i,a,L as v,_ as g,u as x,A as f,b as C}from"./index.f24f19d8.js";import{u as k}from"./useQuery.esm.fd9bfaeb.js";class E extends c.exports.Component{constructor(){super(...arguments);o(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error",e,n)}render(){return this.state.hasError?i("h2",{children:["There was an error with this listing. ",a(v,{to:"/",children:"Click here"})," ","to back to the home page."]}):this.props.children}}const N=async({queryKey:s})=>{const t=s[1],e=await fetch(`https://pets-v2.dev-apis.com/pets?id=${t}`);if(!e.ok)throw new Error(`details/${t} fetch not ok`);return e.json()};class p extends c.exports.Component{constructor(){super(...arguments);o(this,"state",{active:0});o(this,"handleIndexClick",e=>{this.setState({active:+e.target.dataset.index})})}render(){const{active:e}=this.state,{images:n}=this.props;return i("div",{className:"carousel",children:[a("img",{src:n[e],alt:"animal hero"}),a("div",{className:"carousel-smaller",children:n.map((d,l)=>a("img",{onClick:this.handleIndexClick,"data-index":l,src:d,className:l===e?"active":"",alt:"animal thumbnail"},d))})]})}}o(p,"defaultProps",{images:["http://pets-images.dev-apis.com/pets/none.jpg"]});const _=c.exports.lazy(()=>g(()=>import("./Modal.f61714de.js"),["assets/Modal.f61714de.js","assets/index.f24f19d8.js","assets/index.4e3e9163.css"])),b=()=>{const[s,t]=c.exports.useState(!1),e=x(),[n,d]=c.exports.useContext(f),{id:l}=C(),h=k(["details",l],N);if(h.isLoading)return a("div",{className:"loading-pane",children:a("h2",{className:"loader",children:"\u{1F300}"})});const r=h.data.pets[0];return i("div",{className:"details",children:[a(p,{images:r.images}),i("div",{children:[a("h2",{children:r.name}),i("h3",{children:[r.animal," - ",r.breed," - ",r.city,", ",r.state]}),i("button",{onClick:()=>t(!0),children:["Adoptar ",r.name]}),a("p",{children:r.description}),s?a(_,{children:i("div",{children:[i("h2",{children:["Quieres adoptar a ",r.name,"?"]}),i("div",{className:"buttons",children:[a("button",{onClick:()=>{d(r),e("/")},children:"Si"}),a("button",{onClick:()=>t(!1),children:"No"})]})]})}):null]})]})};function j(s){return a(E,{children:a(b,{...s})})}export{j as default};
